<%= error_messages_for 'report' %>
<% form_for [@reportable, @report] do |f| %>
  <table cellspacing='0' cellpadding='2' class='action-box' width='100%'>
    <thead>
      <tr>
        <td colspan='2'><h2><%= t(:Reporting_a, :thing => @reportable.class) %></h2></td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td valign='top'><%= f.label "text", t(:Text) %>:</td>
        <td><%= f.text_area("text", :cols => "80") %></td>
      </tr>
    </tbody>
    <tfoot>
      <tr>
        <td colspan='2'><%= submit_tag(t(:Report)) %></td>
      </tr>
    </tfoot>
  </table>
<% end %>

<% if @reportable.is_a?(Post) %>
  <h3><%= t(:You_are_reporting_this_post) %>:</h3>
  <table cellspacing='0' cellpadding='5' width='100%' class='posts'>
    <%= render :partial => @reportable, :locals => { :show_topic => false, :post_counter => @reportable.topic.posts.index(@reportable) } %>
  </table>
<% end %>